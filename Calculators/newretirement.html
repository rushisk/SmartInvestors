<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
<link rel="stylesheet" href="css/jquery.mobile-1.4.1.css" type="text/css" />
<script src="formjs.js" type="text/javascript"></script>
    <link rel="stylesheet" href="formcss.css" type="text/css" />
<script src="js/jquery-1.9.1.js" type="text/javascript"></script>
<script src="js/jquery.mobile-1.4.1.js" type="text/javascript"></script>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<link rel="stylesheet" href="css/bootstrap.css" type="text/css" />
<script type="text/javascript">
function Calculate()
{

//if(check==true) 
//{ 
          
			document.getElementById('tab4').className='on1';
			document.getElementById('tab1').className='off1';
			document.getElementById('tab2').className='off1';
			/*document.getElementById('tab3').className='off1'; */
			
        //} 
        	
if(document.getElementById('hide2').style.display=='block') 
{	
	
document.getElementById('hide2').style.display='none';

}    	
if(document.getElementById('benefits').style.display=='none') 
{	
	
document.getElementById('benefits').style.display='block';

}

var Age = document.getElementById("Age").value;
var RAge = document.getElementById("RAge").value;
var PV = document.getElementById("PV").value;
var Expense = document.getElementById("Expense").value;
var Maturity = document.getElementById("Maturity").value;
var Yearsleft;
Yearsleft = (RAge-Age);
var Yearsafter;
Yearsafter = (85-RAge);
var Power = Math.pow((1+(9/100)),Yearsleft);
var Powerr = Math.pow(1.0075,(Yearsleft*12));
var AExpenses;
AExpenses = (Number(Expense)*12);
var FVExpenses;
FVExpenses = Math.round(AExpenses*Power);
var Power2 = Math.pow((1+(1.42/100)),(-Yearsafter));
var RHS;
RHS = [(1-Power2)*100]/(1.42);
var Existing;
Existing = Math.round(Number(PV)*Power);

var corpus;
corpus = Math.round((FVExpenses*RHS));
var provision = (Number(Existing)+Number(Maturity));
var shortfall;
shortfall = (corpus-provision);



var MonthlySIP;
MonthlySIP = Math.round([(shortfall*(0.0075))/(Powerr-1)]*1.0075);


document.getElementById('Age_display').innerHTML=Number(Age);
document.getElementById('RAge_display').innerHTML=RAge;
document.getElementById('Expenses_display').innerHTML=Expense.replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,");
document.getElementById('Provision_display').innerHTML=Existing;

document.getElementById('corpus_display').innerHTML=corpus;
document.getElementById('MonthlySIP_display').innerHTML=MonthlySIP;
drawChart(shortfall,provision) 

}

google.load("visualization", "1", {packages:["corechart"]});
      google.setOnLoadCallback(drawChart);
      function drawChart(shortfall,provision) 
	  {
		  
	
		
        var data = google.visualization.arrayToDataTable([
          ['Task', 'Hours per Day'],
          ['Shortfall',     parseInt(shortfall)],
          ['Provision Made',      parseInt(provision)],
        
        ]);
		
		

        var options = {
          title: 'Retirement Planning'
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart'));
        chart.draw(data, options);
      }




function Nextpage() 
{
 if(document.getElementById('hide2').style.display=='none') { 
            document.getElementById('hide2').style.display='block'; 
			/*document.getElementById('tab3').className='off1';*/
			document.getElementById('tab1').className='off1';
			document.getElementById('tab2').className='on1';
			document.getElementById('tab4').className='off1';
			
        } 
        	
if(document.getElementById('hide').style.display=='block') {	
	
document.getElementById('hide').style.display='none';

}

}

function Nextpage2() 
{
 if(document.getElementById('benefits').style.display=='none') { 
            document.getElementById('benefits').style.display='block'; 
			document.getElementById('tab4').className='on1';
			document.getElementById('tab1').className='off1';
			document.getElementById('tab2').className='off1';
			/*document.getElementById('tab3').className='off1';*/
			
        } 
        	
if(document.getElementById('hide2').style.display=='block') {	
	
document.getElementById('hide2').style.display='none';

}

}

/*function Nextpage2() 
{
 if(document.getElementById('hide3').style.display=='none') { 
            document.getElementById('hide3').style.display='block'; 
			document.getElementById('tab3').className='on1';
			document.getElementById('tab1').className='off1';
			document.getElementById('tab2').className='off1';
			document.getElementById('tab4').className='off1';
			
        } 
        	
if(document.getElementById('hide2').style.display=='block') {	
	
document.getElementById('hide2').style.display='none';

}

}*/


function backpage() 
{
 if(document.getElementById('hide').style.display=='none') { 
            document.getElementById('hide').style.display='block'; 
			/*document.getElementById('tab3').className='off1';*/
			document.getElementById('tab1').className='on1';
			document.getElementById('tab2').className='off1';
			document.getElementById('tab4').className='off1';
			
        } 
        	
if(document.getElementById('hide2').style.display=='block') {	
	
document.getElementById('hide2').style.display='none';

}

}

function backpage2() 
{
 if(document.getElementById('hide2').style.display=='none') { 
            document.getElementById('hide2').style.display='block';
			/*document.getElementById('tab3').className='off1';*/
			document.getElementById('tab1').className='off1';
			document.getElementById('tab2').className='on1'; 
			document.getElementById('tab4').className='off1';
			
        } 
        	
if(document.getElementById('benefits').style.display=='block') {	
	
document.getElementById('benefits').style.display='none';

}

}


function backpage33() 
{

 if(document.getElementById('hide2').style.display=='none') { 
            document.getElementById('hide2').style.display='block';
			document.getElementById('tab2').className='on1';
			document.getElementById('tab1').className='off1';
			/*document.getElementById('tab3').className='on1'; */
			document.getElementById('tab4').className='off1';
			document.getElementById('benefits').style.display='none';

        } 
        	
if(document.getElementById('benefits').style.display=='block') {	
	
document.getElementById('benefits').style.display='none';

}

}
	
	

</script>

</head>

<body>

<div class="header">
<div class="on1" id="tab1">Step 1</div>
<div class="off1" id="tab2">Step 2</div>
<!--<div class="off1" id="tab3">Step 3</div>-->
<div class="off1" id="tab4">Solutions</div>
</div>
<div id="hide" class="col-md-9 col-xs-12" style="display:block;">

<label for="slider-fill">What is your current Age ?</label>
<input type="range" name="slider-fill" id="Age" value="25" min="18" max="100" step="1" data-highlight="true">
<label for="slider-fill">At what age do you wish to retire ?</label>
<input type="range" name="slider-fill" id="RAge" value="55" min="50" max="70" step="1" data-highlight="true">

<div class="button" onclick="Nextpage()">Next</div>


</div>

<div id="hide2" class="col-md-9 col-xs-12" style="display:none;">
<label for="slider-fill">If you were to retire today, approximately how much amount do you think you would require monthly to live comfortably ?</label>
<input type="range" name="slider-fill" id="Expense" value="25000" min="15000" max="500000" step="1000" data-highlight="true">
<label for="slider-fill">What benefits, including Provident Fund, will you receive when you retire ?</label>
<input type="range" name="slider-fill" id="Maturity" value="500000" min="100000" max="10000000" step="100000" data-highlight="true">
<label for="slider-fill">How much money have you saved for your life after retirement ?</label>
<input type="range" name="slider-fill" id="PV" value="200000" min="100000" max="10000000" step="1" data-highlight="true">
<!-- <div class="button" onclick="backpage()">Back</div> -->
<!--<div class="button" onclick="Nextpage2()">Next</div>-->
 <input type='submit' value='Calculate' class='form_button' onclick="Calculate()">
				<span id='phpfmg_processing' style='display:none;'>
                    <img id='phpfmg_processing_gif' src='admin1500.gif?mod=image&amp;func=processing' border=0 alt='Processing...'> <label id='phpfmg_processing_dots'></label>
                </span>

</div>

<div id="benefits" class="col-md-9 col-xs-12" style="display:none;">
<div class="col-md-5 col-xs-12">
Your Current Age is : <span id="Age_display"></span> Years
<hr color="#C1C1C1" />
Your Retirement Age is : <span id="RAge_display"></span> Years

<hr color="#C1C1C1" />
Monthly Expenses is : Rs.<span id="Expenses_display"></span>
<hr color="#C1C1C1" />
Provision Made : Rs.<span id="Provision_display"></span>
<hr color="#C1C1C1" />
Retirement Corpus : Rs.<span id="corpus_display" style="color:#030; font-size:20px; font-weight:bold;"></span>
<hr color="#C1C1C1" />
Monthly Savings : Rs.<span id="MonthlySIP_display" style="color:#030; font-size:20px; font-weight:bold;"></span>

<!-- <div class="button" onclick="backpage33()">Back</div> -->
</div>
<div class="col-md-7 col-xs-12">
<div id="piechart" class="piechart"></div>
</div>

</div>




</body>
</html>
